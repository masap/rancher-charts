From f8c71a22c78e1b7bc3e8068be195b6a2ea68559e Mon Sep 17 00:00:00 2001
From: Murali Paluru <leodotcloud@gmail.com>
Date: Sun, 30 Jun 2024 13:58:58 +0530
Subject: [PATCH 02/10] make charts

---
 ...ancher-supportability-review-crd-1.0.0.tgz | Bin 0 -> 872 bytes
 .../rancher-supportability-review-1.0.0.tgz   | Bin 0 -> 2898 bytes
 .../1.0.0/Chart.yaml                          |  10 ++
 .../1.0.0/README.md                           |   2 +
 .../1.0.0/templates/reviewbundle.yaml         |  81 ++++++++++++++++
 .../1.0.0/Chart.yaml                          |  22 +++++
 .../1.0.0/README.md                           |   9 ++
 .../1.0.0/app-readme.md                       |   3 +
 .../1.0.0/templates/_helpers.tpl              |  90 ++++++++++++++++++
 .../1.0.0/templates/secret.yaml               |   9 ++
 .../1.0.0/templates/serviceaccount.yaml       |  13 +++
 .../1.0.0/templates/validate-install-crd.yaml |  14 +++
 .../1.0.0/values.yaml                         |  83 ++++++++++++++++
 index.yaml                                    |  42 ++++++++
 14 files changed, 378 insertions(+)
 create mode 100644 assets/rancher-supportability-review-crd/rancher-supportability-review-crd-1.0.0.tgz
 create mode 100644 assets/rancher-supportability-review/rancher-supportability-review-1.0.0.tgz
 create mode 100644 charts/rancher-supportability-review-crd/1.0.0/Chart.yaml
 create mode 100644 charts/rancher-supportability-review-crd/1.0.0/README.md
 create mode 100644 charts/rancher-supportability-review-crd/1.0.0/templates/reviewbundle.yaml
 create mode 100644 charts/rancher-supportability-review/1.0.0/Chart.yaml
 create mode 100644 charts/rancher-supportability-review/1.0.0/README.md
 create mode 100644 charts/rancher-supportability-review/1.0.0/app-readme.md
 create mode 100644 charts/rancher-supportability-review/1.0.0/templates/_helpers.tpl
 create mode 100644 charts/rancher-supportability-review/1.0.0/templates/secret.yaml
 create mode 100644 charts/rancher-supportability-review/1.0.0/templates/serviceaccount.yaml
 create mode 100644 charts/rancher-supportability-review/1.0.0/templates/validate-install-crd.yaml
 create mode 100644 charts/rancher-supportability-review/1.0.0/values.yaml

diff --git a/assets/rancher-supportability-review-crd/rancher-supportability-review-crd-1.0.0.tgz b/assets/rancher-supportability-review-crd/rancher-supportability-review-crd-1.0.0.tgz
new file mode 100644
index 0000000000000000000000000000000000000000..a450cb1c39fd8db5003be94c8782627ea3515ccd
GIT binary patch
literal 872
zcmV-u1DE_CiwG0|00000|0w_~VMtOiV@ORlOnEsqVl!4SWK%V1T2nbTPgYhoO;>Dc
zVQyr3R8em|NM&qo0PI)6a@#f#)tO&`NzbB5S++a8xpEFUwBu3J+?U{5LIMI9>_UyE
z(|_*}q-0s5D#^8zI-_^taIwH!0Q(kz2P5a`hZLN%o}pA)@p9;Kq43Y4^wq^=4xZB`
z)OzqtWLcJ7kH_(wW!d&OyBgmN^6~XJ8|9<xJR4;B&CS(lAhPEYo`OIOevtiVuI<Ua
z5r8q4ft58>Btl4F&~}zeVAhx_dm+)YdQeyuqRW+Dx4Eh+G=+G_KH$4v7Xvkt1Brzo
zKeP@#u=PV)5@X%l!=pwZ95y}I^!rma0jEBpCuL0`7I{)3Nv|Bo{||;3v?jrG6qD&4
zi3jWdeatjDmYA0g3jxk)CF5cyi&Y$Xnx$Fty|;NU4(p$>b{ZJzqBWMmR2oky2nX~(
z9*r)a>VI^3d2@Bv|F^)VWWXu>%4nKDO27O}jRqHa@<o}d5R*V`>nV~AUg8}-D5GMk
z*T_%-LsLIG!E7W7rQ{zaosdJ>IL^Ect|<f?ZEg2hhlFTJr*WiT;z-f#bnu|JC}ImK
zGYcC0)3!tilD1LjL<izny*h11qM?AQit_+{@0DTn6RSgQx-f>~Gg)&FJTF8_3>+wB
zRU<LfE_$pc{c+3M)&yd&%q)3yTjXuDa*j0=ov(FhZtp*Qy8Qi#SqSHwI>~CaDlJxv
z_=tYL1{IcJwryNRS6ZtP%ubiZX&vyZ)S<#|g?B;_LNV4oW+6<_8cL0YXwHouhn-bC
zp?6o6y@%yin=)@KU<V$wMm@1wql_ooNjpT=*fQAVZ|gJod9n4*Yc+VI02_E;WR19H
zQGnYmw)~8eHxoPx?bsBT*0d5nWh3_w*FppFM-PVL$j#LH{f<ZpaVRZTe1EtK7+;^O
zMk1KKGKoi^zBGMFj=ns3X^!adiVS-sa1_D*g0ViMUQXz}f$kUy{i1m+tj8v{zDc$X
zODKJJjactpx0B+pzyH5?<sT7;@Bh>Hw|Bq3PwVR09EaZj`Sob~{XaV2|Gy1>I^uPE
yE2gcFkaO@Xcn&Po&U-o#R-#-UdQ*Sz8J}^+8E2f);GX~h0RR6DYc$dT7ytmsKAjZ+

literal 0
HcmV?d00001

diff --git a/assets/rancher-supportability-review/rancher-supportability-review-1.0.0.tgz b/assets/rancher-supportability-review/rancher-supportability-review-1.0.0.tgz
new file mode 100644
index 0000000000000000000000000000000000000000..bdfc44f4337c90c37bf1e5ae82f921cebd807773
GIT binary patch
literal 2898
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

literal 0
HcmV?d00001

diff --git a/charts/rancher-supportability-review-crd/1.0.0/Chart.yaml b/charts/rancher-supportability-review-crd/1.0.0/Chart.yaml
new file mode 100644
index 000000000..e7c63f5af
--- /dev/null
+++ b/charts/rancher-supportability-review-crd/1.0.0/Chart.yaml
@@ -0,0 +1,10 @@
+annotations:
+  catalog.cattle.io/certified: rancher
+  catalog.cattle.io/hidden: "true"
+  catalog.cattle.io/namespace: sr-operator-system
+  catalog.cattle.io/release-name: rancher-supportability-review-crd
+apiVersion: v1
+description: Installs the CRDs for rancher-supportability-review.
+name: rancher-supportability-review-crd
+type: application
+version: 1.0.0
diff --git a/charts/rancher-supportability-review-crd/1.0.0/README.md b/charts/rancher-supportability-review-crd/1.0.0/README.md
new file mode 100644
index 000000000..75a817d3b
--- /dev/null
+++ b/charts/rancher-supportability-review-crd/1.0.0/README.md
@@ -0,0 +1,2 @@
+# rancher-supportability-review-crd
+A Rancher chart that installs the CRDs used by rancher-supportability-review.
diff --git a/charts/rancher-supportability-review-crd/1.0.0/templates/reviewbundle.yaml b/charts/rancher-supportability-review-crd/1.0.0/templates/reviewbundle.yaml
new file mode 100644
index 000000000..c1dcf9df7
--- /dev/null
+++ b/charts/rancher-supportability-review-crd/1.0.0/templates/reviewbundle.yaml
@@ -0,0 +1,81 @@
+apiVersion: apiextensions.k8s.io/v1
+kind: CustomResourceDefinition
+metadata:
+  name: reviewbundles.sr.cattle.io
+spec:
+  group: sr.cattle.io
+  names:
+    kind: ReviewBundle
+    plural: reviewbundles
+    singular: reviewbundle
+  scope: Cluster
+  versions:
+  - additionalPrinterColumns:
+    - jsonPath: .status.timestamp
+      name: Timestamp
+      type: string
+    name: v1
+    schema:
+      openAPIV3Schema:
+        properties:
+          spec:
+            properties:
+              debug:
+                type: boolean
+              dev:
+                type: boolean
+              excludeClusters:
+                items:
+                  nullable: true
+                  type: string
+                nullable: true
+                type: array
+              includeClusters:
+                items:
+                  nullable: true
+                  type: string
+                nullable: true
+                type: array
+              parallelCollection:
+                type: boolean
+              sonobuoyNamespace:
+                nullable: true
+                type: string
+              sonobuoyTimeout:
+                type: integer
+            type: object
+          status:
+            properties:
+              conditions:
+                items:
+                  properties:
+                    lastTransitionTime:
+                      nullable: true
+                      type: string
+                    lastUpdateTime:
+                      nullable: true
+                      type: string
+                    message:
+                      nullable: true
+                      type: string
+                    reason:
+                      nullable: true
+                      type: string
+                    status:
+                      nullable: true
+                      type: string
+                    type:
+                      nullable: true
+                      type: string
+                  type: object
+                nullable: true
+                type: array
+              timestamp:
+                nullable: true
+                type: string
+            type: object
+        type: object
+    served: true
+    storage: true
+    subresources:
+      status: {}
diff --git a/charts/rancher-supportability-review/1.0.0/Chart.yaml b/charts/rancher-supportability-review/1.0.0/Chart.yaml
new file mode 100644
index 000000000..3c6af373f
--- /dev/null
+++ b/charts/rancher-supportability-review/1.0.0/Chart.yaml
@@ -0,0 +1,22 @@
+annotations:
+  catalog.cattle.io/auto-install: rancher-supportability-review-crd=match
+  catalog.cattle.io/certified: rancher
+  catalog.cattle.io/display-name: Supportability Review
+  catalog.cattle.io/kube-version: '>= 1.20.0-0 < 1.31.0-0'
+  catalog.cattle.io/namespace: sr-operator-system
+  catalog.cattle.io/os: linux
+  catalog.cattle.io/permits-os: linux,windows
+  catalog.cattle.io/provides-gvr: sr.cattle.io.reviewbundles/v1
+  catalog.cattle.io/rancher-version: '>= 2.6.0-0 < 2.10.0-0'
+  catalog.cattle.io/release-name: rancher-supportability-review
+  catalog.cattle.io/type: cluster-tool
+  catalog.cattle.io/ui-component: rancher-supportability-review
+apiVersion: v1
+appVersion: v1.0.0
+description: The rancher-supportability-review operator enables the functionality
+  of Supportability Reviews for Rancher.
+icon: https://charts.rancher.io/assets/logos/cis-kube-bench.svg
+keywords:
+- support
+name: rancher-supportability-review
+version: 1.0.0
diff --git a/charts/rancher-supportability-review/1.0.0/README.md b/charts/rancher-supportability-review/1.0.0/README.md
new file mode 100644
index 000000000..f23e157e6
--- /dev/null
+++ b/charts/rancher-supportability-review/1.0.0/README.md
@@ -0,0 +1,9 @@
+# Rancher Supportability Review Chart
+
+The supportability-review-operator enables running Supportability Reviews.
+
+# Installation
+
+```
+helm install rancher-supportability-review ./ --create-namespace -n sr-operator-system
+```
diff --git a/charts/rancher-supportability-review/1.0.0/app-readme.md b/charts/rancher-supportability-review/1.0.0/app-readme.md
new file mode 100644
index 000000000..d25a2fd1f
--- /dev/null
+++ b/charts/rancher-supportability-review/1.0.0/app-readme.md
@@ -0,0 +1,3 @@
+# Rancher Supportability Review
+
+This chart is used for Supportability Review of Rancher.
diff --git a/charts/rancher-supportability-review/1.0.0/templates/_helpers.tpl b/charts/rancher-supportability-review/1.0.0/templates/_helpers.tpl
new file mode 100644
index 000000000..2ac000849
--- /dev/null
+++ b/charts/rancher-supportability-review/1.0.0/templates/_helpers.tpl
@@ -0,0 +1,90 @@
+{{/*
+Expand the name of the chart.
+*/}}
+{{- define "rancher-supportability-review.name" -}}
+{{- default .Chart.Name .Values.nameOverride | trunc 63 | trimSuffix "-" }}
+{{- end }}
+
+{{/*
+Create a default fully qualified app name.
+We truncate at 63 chars because some Kubernetes name fields are limited to this (by the DNS naming spec).
+If release name contains chart name it will be used as a full name.
+*/}}
+{{- define "rancher-supportability-review.fullname" -}}
+{{- if .Values.fullnameOverride }}
+{{- .Values.fullnameOverride | trunc 63 | trimSuffix "-" }}
+{{- else }}
+{{- $name := default .Chart.Name .Values.nameOverride }}
+{{- if contains $name .Release.Name }}
+{{- .Release.Name | trunc 63 | trimSuffix "-" }}
+{{- else }}
+{{- printf "%s-%s" .Release.Name $name | trunc 63 | trimSuffix "-" }}
+{{- end }}
+{{- end }}
+{{- end }}
+
+{{/*
+Create chart name and version as used by the chart label.
+*/}}
+{{- define "rancher-supportability-review.chart" -}}
+{{- printf "%s-%s" .Chart.Name .Chart.Version | replace "+" "_" | trunc 63 | trimSuffix "-" }}
+{{- end }}
+
+{{/*
+Common labels
+*/}}
+{{- define "rancher-supportability-review.labels" -}}
+helm.sh/chart: {{ include "rancher-supportability-review.chart" . }}
+{{ include "rancher-supportability-review.selectorLabels" . }}
+{{- if .Chart.AppVersion }}
+app.kubernetes.io/version: {{ .Chart.AppVersion | quote }}
+{{- end }}
+app.kubernetes.io/managed-by: {{ .Release.Service }}
+{{- end }}
+
+{{/*
+Selector labels
+*/}}
+{{- define "rancher-supportability-review.selectorLabels" -}}
+app.kubernetes.io/name: {{ include "rancher-supportability-review.name" . }}
+app.kubernetes.io/instance: {{ .Release.Name }}
+{{- end }}
+
+{{/*
+Create the name of the service account to use
+*/}}
+{{- define "rancher-supportability-review.serviceAccountName" -}}
+{{- if .Values.serviceAccount.create }}
+{{- default (include "rancher-supportability-review.fullname" .) .Values.serviceAccount.name }}
+{{- else }}
+{{- default "default" .Values.serviceAccount.name }}
+{{- end }}
+{{- end }}
+
+{{/* Ensure namespace is set the same everywhere */}}
+{{- define "sr.namespace" -}}
+  {{- .Release.Namespace | default "sr-operator-system" -}}
+{{- end -}}
+
+{{- define "system_default_registry" -}}
+{{- if .Values.global.cattle.systemDefaultRegistry -}}
+{{- printf "%s/" .Values.global.cattle.systemDefaultRegistry -}}
+{{- else -}}
+{{- "" -}}
+{{- end -}}
+{{- end -}}
+
+{{/*
+Windows cluster will add default taint for linux nodes,
+add below linux tolerations to workloads could be scheduled to those linux nodes
+*/}}
+{{- define "linux-node-tolerations" -}}
+- key: "cattle.io/os"
+  value: "linux"
+  effect: "NoSchedule"
+  operator: "Equal"
+{{- end -}}
+
+{{- define "linux-node-selector" -}}
+kubernetes.io/os: linux
+{{- end -}}
diff --git a/charts/rancher-supportability-review/1.0.0/templates/secret.yaml b/charts/rancher-supportability-review/1.0.0/templates/secret.yaml
new file mode 100644
index 000000000..0103975a2
--- /dev/null
+++ b/charts/rancher-supportability-review/1.0.0/templates/secret.yaml
@@ -0,0 +1,9 @@
+apiVersion: v1
+kind: Secret
+metadata:
+  name: {{ .Values.secretName }}
+  namespace: {{ .Release.Namespace }}
+type: Opaque
+data:
+  url: {{ .Values.rancherUrl | b64enc }}
+  token: {{ .Values.rancherToken | b64enc }}
diff --git a/charts/rancher-supportability-review/1.0.0/templates/serviceaccount.yaml b/charts/rancher-supportability-review/1.0.0/templates/serviceaccount.yaml
new file mode 100644
index 000000000..64e565e5a
--- /dev/null
+++ b/charts/rancher-supportability-review/1.0.0/templates/serviceaccount.yaml
@@ -0,0 +1,13 @@
+{{- if .Values.serviceAccount.create -}}
+apiVersion: v1
+kind: ServiceAccount
+metadata:
+  name: {{ include "rancher-supportability-review.serviceAccountName" . }}
+  labels:
+    {{- include "rancher-supportability-review.labels" . | nindent 4 }}
+  {{- with .Values.serviceAccount.annotations }}
+  annotations:
+    {{- toYaml . | nindent 4 }}
+  {{- end }}
+automountServiceAccountToken: {{ .Values.serviceAccount.automount }}
+{{- end }}
diff --git a/charts/rancher-supportability-review/1.0.0/templates/validate-install-crd.yaml b/charts/rancher-supportability-review/1.0.0/templates/validate-install-crd.yaml
new file mode 100644
index 000000000..ab7d90631
--- /dev/null
+++ b/charts/rancher-supportability-review/1.0.0/templates/validate-install-crd.yaml
@@ -0,0 +1,14 @@
+#{{- if gt (len (lookup "rbac.authorization.k8s.io/v1" "ClusterRole" "" "")) 0 -}}
+# {{- $found := dict -}}
+# {{- set $found "sr.cattle.io/v1/ReviewBundle" false -}}
+# {{- range .Capabilities.APIVersions -}}
+# {{- if hasKey $found (toString .) -}}
+# 	{{- set $found (toString .) true -}}
+# {{- end -}}
+# {{- end -}}
+# {{- range $_, $exists := $found -}}
+# {{- if (eq $exists false) -}}
+# 	{{- required "Required CRDs are missing. Please install the corresponding CRD chart before installing this chart." "" -}}
+# {{- end -}}
+# {{- end -}}
+#{{- end -}}
\ No newline at end of file
diff --git a/charts/rancher-supportability-review/1.0.0/values.yaml b/charts/rancher-supportability-review/1.0.0/values.yaml
new file mode 100644
index 000000000..76c00d3d9
--- /dev/null
+++ b/charts/rancher-supportability-review/1.0.0/values.yaml
@@ -0,0 +1,83 @@
+# Default values for rancher-supportability-review.
+# This is a YAML-formatted file.
+# Declare variables to be passed into your templates.
+
+replicaCount: 1
+
+secretName: "sr-api-details"
+rancherUrl: ""
+rancherToken: ""
+
+image:
+  repository: ghcr.io/rancher/supportability-review-operator
+  #pullPolicy: IfNotPresent
+  pullPolicy: Always
+  # Overrides the image tag whose default is the chart appVersion.
+  tag: "latest"
+
+imagePullSecrets: []
+nameOverride: ""
+fullnameOverride: ""
+
+serviceAccount:
+  # Specifies whether a service account should be created
+  create: true
+  # Automatically mount a ServiceAccount's API credentials?
+  automount: true
+  # Annotations to add to the service account
+  annotations: {}
+  # The name of the service account to use.
+  # If not set and create is true, a name is generated using the fullname template
+  name: ""
+
+podAnnotations: {}
+podLabels: {}
+
+podSecurityContext: {}
+  # fsGroup: 2000
+
+securityContext: {}
+  # capabilities:
+  #   drop:
+  #   - ALL
+  # readOnlyRootFilesystem: true
+  # runAsNonRoot: true
+  # runAsUser: 1000
+
+resources: {}
+  # We usually recommend not to specify default resources and to leave this as a conscious
+  # choice for the user. This also increases chances charts run on environments with little
+  # resources, such as Minikube. If you do want to specify resources, uncomment the following
+  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
+  # limits:
+  #   cpu: 100m
+  #   memory: 128Mi
+  # requests:
+  #   cpu: 100m
+  #   memory: 128Mi
+
+autoscaling:
+  enabled: false
+  minReplicas: 1
+  maxReplicas: 100
+  targetCPUUtilizationPercentage: 80
+  # targetMemoryUtilizationPercentage: 80
+
+# Additional volumes on the output Deployment definition.
+volumes: []
+# - name: foo
+#   secret:
+#     secretName: mysecret
+#     optional: false
+
+# Additional volumeMounts on the output Deployment definition.
+volumeMounts: []
+# - name: foo
+#   mountPath: "/etc/foo"
+#   readOnly: true
+
+nodeSelector: {}
+
+tolerations: []
+
+affinity: {}
diff --git a/index.yaml b/index.yaml
index 9e258677f..0aa0d7118 100755
--- a/index.yaml
+++ b/index.yaml
@@ -977,4 +977,46 @@ entries:
     urls:
     - assets/rancher-cis-benchmark-crd/rancher-cis-benchmark-crd-1.0.100.tgz
     version: 1.0.100
+  rancher-supportability-review:
+  - annotations:
+      catalog.cattle.io/auto-install: rancher-supportability-review-crd=match
+      catalog.cattle.io/certified: rancher
+      catalog.cattle.io/display-name: Supportability Review
+      catalog.cattle.io/kube-version: '>= 1.20.0-0 < 1.31.0-0'
+      catalog.cattle.io/namespace: sr-operator-system
+      catalog.cattle.io/os: linux
+      catalog.cattle.io/permits-os: linux,windows
+      catalog.cattle.io/provides-gvr: sr.cattle.io.reviewbundles/v1
+      catalog.cattle.io/rancher-version: '>= 2.6.0-0 < 2.10.0-0'
+      catalog.cattle.io/release-name: rancher-supportability-review
+      catalog.cattle.io/type: cluster-tool
+      catalog.cattle.io/ui-component: rancher-supportability-review
+    apiVersion: v1
+    appVersion: v1.0.0
+    created: "2024-06-30T13:51:28.190087+05:30"
+    description: The rancher-supportability-review operator enables the functionality
+      of Supportability Reviews for Rancher.
+    digest: 9c85500dce09292c583535b74421d0810fb786e1e096d9f019585219abf9ea6b
+    icon: https://charts.rancher.io/assets/logos/cis-kube-bench.svg
+    keywords:
+    - support
+    name: rancher-supportability-review
+    urls:
+    - assets/rancher-supportability-review/rancher-supportability-review-1.0.0.tgz
+    version: 1.0.0
+  rancher-supportability-review-crd:
+  - annotations:
+      catalog.cattle.io/certified: rancher
+      catalog.cattle.io/hidden: "true"
+      catalog.cattle.io/namespace: sr-operator-system
+      catalog.cattle.io/release-name: rancher-supportability-review-crd
+    apiVersion: v1
+    created: "2024-06-30T13:51:28.190202+05:30"
+    description: Installs the CRDs for rancher-supportability-review.
+    digest: e8d9e38a52b3ebadd114ee6b2438b4d022ce7b329d3382a0a843efe8a69b27cd
+    name: rancher-supportability-review-crd
+    type: application
+    urls:
+    - assets/rancher-supportability-review-crd/rancher-supportability-review-crd-1.0.0.tgz
+    version: 1.0.0
 generated: "2024-06-30T11:29:24.965264+05:30"
-- 
2.25.1

